<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogiMaster v4.0 - Ultra Animation Edition</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React e ReactDOM via CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel para processar JSX no browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @keyframes custom-spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-custom-spin {
            animation: custom-spin 0.3s linear infinite;
        }
        @keyframes vibration {
            0%, 100% { transform: translateY(0) rotate(0); }
            25% { transform: translateY(-1px) rotate(0.1deg); }
            75% { transform: translateY(1px) rotate(-0.1deg); }
        }
        .animate-vibration {
            animation: vibration 0.1s infinite;
        }
        @keyframes scan-line {
            from { transform: translateY(-100%); }
            to { transform: translateY(100%); }
        }
        .scan-line {
            animation: scan-line 3s linear infinite;
        }
        @keyframes exhaust-cloud {
            0% { transform: scale(0.5) translateY(0); opacity: 0.8; }
            100% { transform: scale(2) translateY(-40px); opacity: 0; }
        }
        .exhaust-particle {
            animation: exhaust-cloud 0.6s ease-out infinite;
        }
        body { 
            background-color: #020617;
            background-image: 
                linear-gradient(rgba(15, 23, 42, 0.9), rgba(2, 6, 23, 0.95)),
                url('https://www.transparenttextures.com/patterns/carbon-fibre.png');
            overflow-x: hidden;
            color: #f8fafc;
        }
        .perspective-2000 { perspective: 2000px; }
        .preserve-3d { transform-style: preserve-3d; }
        .door-transition {
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .door-open-left { transform: rotateY(-110deg); }
        .door-open-right { transform: rotateY(110deg); }
        
        /* Grid Digital de Fundo */
        .digital-grid {
            background-image: 
                linear-gradient(to right, rgba(249, 115, 22, 0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(249, 115, 22, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Objeto de Ícones SVG para evitar erros de dependência
        const Icons = {
            Truck: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/><path d="M15 18H9"/><path d="M19 18h2a1 1 0 0 0 1-1v-5l-4-4h-3v10a2 2 0 0 0 2 2Z"/><circle cx="7" cy="18" r="2"/><circle cx="17" cy="18" r="2"/></svg>,
            Warehouse: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M3 21V12l9-9 9 9v9"/><path d="M9 21v-6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v6"/><rect width="20" height="12" x="2" y="9" rx="2"/></svg>,
            Boxes: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 1.2 1.83l3.5 1.5a2 2 0 0 0 1.6 0l3.5-1.5a2 2 0 0 0 1.2-1.83v-3.24a2 2 0 0 0-.97-1.71l-3.5-2.14a2 2 0 0 0-2.06 0L2.97 12.92z"/><path d="M12 12l8.73 5.07"/><path d="M12 22.5V12"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 2.25l-8.7 5 8.7 5 8.7-5-8.7-5z"/></svg>,
            ChevronRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m9 18 6-6-6-6"/></svg>,
            ChevronLeft: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m15 18-6-6 6-6"/></svg>,
            RotateCcw: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>,
            ShieldCheck: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="m9 12 2 2 4-4"/></svg>,
            Info: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>,
            Zap: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>,
            Thermometer: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></svg>
        };

        const quizData = [
            { id: 1, pergunta: "O 5S é uma metodologia japonesa que visa organizar o ambiente de trabalho em 5 sensos. São eles:", respostaCorreta: "A) Utilização, Organização, Limpeza, Padronização e Disciplina.", explicacao: "Os 5 sensos (Seiri, Seiton, Seiso, Seiketsu e Shitsuke) formam a base da qualidade total, focada na autodisciplina." },
            { id: 2, pergunta: "O senso de 'Seiri' (Utilização) é o primeiro passo. O que ele determina?", respostaCorreta: "A) Separar o que é útil do inútil, eliminando o que não agrega valor ao setor.", explicacao: "O Seiri liberta espaço físico e mental ao descartar itens desnecessários à produção." },
            { id: 3, pergunta: "Quando se trata de conferência o que é mais crítico do que a velocidade?", respostaCorreta: "B) Garantir que a carga física seja idêntica ao mapa de separação.", explicacao: "A precisão evita o custo logístico de devolução e a perda de confiança do cliente." },
            { id: 4, pergunta: "Ao operar uma empilhadeira, o que deve ser produtivo ao realizar sua atividade?", respostaCorreta: "C) Combinar agilidade na movimentação com segurança total e zero avarias.", explicacao: "O sucesso é o equilíbrio perfeito entre velocidade e preservação da carga." },
            { id: 5, pergunta: "O que você entende de acuracidade de estoque?", respostaCorreta: "B) Igualdade entre o saldo físico e o saldo no sistema.", explicacao: "Acuracidade garante que as vendas sejam planeadas com base em dados reais." },
            { id: 6, pergunta: "O que diferencia um colaborador multifuncional dos demais?", respostaCorreta: "B) Possui capacidade de desempenhar diferentes funções e se adaptar a diversas tarefas.", explicacao: "Multifuncionalidade é um ativo estratégico para a flexibilidade do armazém." },
            { id: 7, pergunta: "Por que as empresas valorizam os colaboradores multifuncionais?", respostaCorreta: "C) Para garantir cobertura eficiente em férias, faltas e picos dentro do setor.", explicacao: "Evita gargalos operacionais por falta de pessoal qualificado em áreas críticas." },
            { id: 8, pergunta: "Qual é a principal função de um (CD) centro de distribuição?", respostaCorreta: "A) Receber, armazenar e distribuir produtos de forma eficiente.", explicacao: "O CD é o núcleo de consolidação e agilização do fluxo no supply chain." },
            { id: 9, pergunta: "Qual o papel da logística?", respostaCorreta: "B) Produto certo, no lugar certo, na hora certa.", explicacao: "A missão da logística é satisfazer a procura com o menor custo e maior precisão." },
            { id: 10, pergunta: "O que o termo shelf life realmente indica?", respostaCorreta: "B) O tempo de vida útil que o produto tem desde a fabricação até ao vencimento.", explicacao: "Crucial para bens perecíveis e controlo de perdas por validade." },
            { id: 11, pergunta: "Por que o controle rigoroso dos produtos é vital para a empresa?", respostaCorreta: "A) Para evitar perdas financeiras irreversíveis com descarte de produtos vencidos.", explicacao: "Produtos vencidos são perda direta de capital e impacto ambiental negativo." },
            { id: 12, pergunta: "O método de gestão de estoque, o PEPS, determina que:", respostaCorreta: "A) O Primeiro que Entra é o Primeiro que Sai.", explicacao: "FIFO (First-In, First-Out) garante o giro correto e evita a obsolescência." },
            { id: 13, pergunta: "Na operação diária, qual o lote que deve ser priorizado na separação?", respostaCorreta: "B) O lote mais antigo disponível no estoque.", explicacao: "Priorizar o lote antigo protege a integridade e o valor do inventário." },
            { id: 14, pergunta: "Qual é a visão estratégica sobre treinar e desenvolver pessoas?", respostaCorreta: "A) É investimento para aumentar produtividade, padronização e segurança operacional.", explicacao: "Treino reduz erros operacionais em até 70% e aumenta a segurança." },
            { id: 15, pergunta: "Diante de sua função, quais indicadores refletem melhor na entrega do seu trabalho no dia a dia?", respostaCorreta: "C) O número total de movimentações durante o turno com acertos e confiabilidade.", explicacao: "Volume com qualidade define a alta performance logística." }
        ];

        // Roda Tridimensional com Sombras e Textura
        const TruckWheel = ({ isDriving }) => (
            <div className={`relative w-20 h-20 ${isDriving ? 'animate-custom-spin shadow-[0_0_25px_rgba(249,115,22,0.4)]' : ''}`}>
                <div className="absolute inset-0 bg-slate-900 rounded-full border-[8px] border-slate-800 flex items-center justify-center overflow-hidden">
                    <div className="absolute inset-0 opacity-40 bg-[conic-gradient(from_0deg,#000,#444,#000)]"></div>
                    {[...Array(8)].map((_, i) => (
                        <div key={i} className="absolute w-2 h-2 bg-slate-700 rounded-full" style={{ transform: `rotate(${i * 45}deg) translateY(-28px)` }} />
                    ))}
                    <div className="w-12 h-12 bg-gradient-to-tr from-slate-400 via-slate-100 to-slate-500 rounded-full shadow-inner border border-slate-600 flex items-center justify-center">
                        <div className="w-4 h-4 bg-slate-600 rounded-full border-2 border-slate-400 shadow-lg"></div>
                    </div>
                </div>
            </div>
        );

        function App() {
            const [currentStep, setCurrentStep] = useState(0);
            const [showAnswer, setShowAnswer] = useState(false);
            const [animationClass, setAnimationClass] = useState('translate-x-0 opacity-100');
            const [isDriving, setIsDriving] = useState(false);

            // Variáveis definidas dentro do componente para evitar ReferenceError
            const currentQuestion = quizData[currentStep];
            const progress = ((currentStep + 1) / quizData.length) * 100;

            const triggerDriveAnimation = (nextIndex) => {
                setIsDriving(true);
                setAnimationClass('translate-x-[200%] opacity-0 skew-x-12 scale-90 blur-xl transition-all duration-700 ease-in');
                
                setTimeout(() => {
                    setCurrentStep(nextIndex);
                    setShowAnswer(false);
                    setAnimationClass('-translate-x-[200%] opacity-0 transition-none');
                    
                    setTimeout(() => {
                        setAnimationClass('translate-x-0 opacity-100 transition-all duration-700 ease-out');
                        setIsDriving(false);
                    }, 50);
                }, 800); 
            };

            return (
                <div className="min-h-screen digital-grid text-slate-100 font-sans p-4 md:p-8 flex flex-col items-center overflow-x-hidden selection:bg-orange-500/30">
                    
                    {/* Linhas de movimento dinâmico */}
                    <div className={`fixed inset-0 pointer-events-none opacity-20 transition-all duration-300 ${isDriving ? 'animate-road' : ''}`} 
                         style={{ backgroundImage: 'linear-gradient(90deg, rgba(255,255,255,0.2) 2px, transparent 2px)', backgroundSize: '150px 100%' }}></div>

                    <div className="max-w-5xl w-full z-10 relative">
                        
                        {/* Header Monitor System */}
                        <header className="mb-12 flex flex-col md:flex-row items-center justify-between gap-6">
                            <div className="flex items-center gap-6 bg-slate-900/80 backdrop-blur-xl p-6 rounded-[2.5rem] border-2 border-orange-500/20 shadow-[0_0_50px_rgba(0,0,0,0.6)]">
                                <div className="p-4 bg-orange-600 rounded-2xl shadow-lg shadow-orange-900/40 relative">
                                    <Icons.Truck className="w-8 h-8 text-white" />
                                    <div className="absolute -top-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-slate-900 animate-pulse"></div>
                                </div>
                                <div className="text-left">
                                    <h1 className="text-3xl font-black text-white tracking-tighter uppercase leading-none italic">LogiMaster <span className="text-orange-500">v4.0</span></h1>
                                    <p className="text-slate-500 font-bold text-[10px] uppercase tracking-[0.4em] mt-2 flex items-center gap-2">
                                        <div className="w-2 h-2 bg-emerald-500 rounded-full"></div> Unidade de Treino Conectada
                                    </p>
                                </div>
                            </div>
                            
                            {/* Telemetria Cards */}
                            <div className="flex gap-4">
                                <div className="bg-slate-900/80 backdrop-blur-md p-5 rounded-3xl border border-slate-800 text-center min-w-[120px] shadow-xl">
                                    <Icons.Zap className="w-4 h-4 text-orange-500 mx-auto mb-2" />
                                    <p className="text-[9px] text-slate-500 font-black uppercase">Consumo</p>
                                    <p className="text-xl font-black text-white italic">0.0 <small className="text-xs text-orange-500">L/H</small></p>
                                </div>
                                <div className="bg-slate-900/80 backdrop-blur-md p-5 rounded-3xl border border-slate-800 text-center min-w-[120px] shadow-xl">
                                    <Icons.Thermometer className="w-4 h-4 text-blue-500 mx-auto mb-2" />
                                    <p className="text-[9px] text-slate-500 font-black uppercase">Carga Fria</p>
                                    <p className="text-xl font-black text-white italic">-18 <small className="text-xs text-blue-500">ºC</small></p>
                                </div>
                            </div>
                        </header>

                        {/* Barra de Rota Laser */}
                        <div className="mb-20 px-4 relative">
                            <div className="flex justify-between text-[10px] font-black text-slate-500 uppercase tracking-[0.3em] mb-4">
                                <span className="flex items-center gap-2"><Icons.Warehouse className="w-3 h-3"/> Origem CD</span>
                                <span className="text-orange-500">Rota {Math.round(progress)}% Concluída</span>
                            </div>
                            <div className="h-4 bg-slate-900 rounded-full border border-slate-800 relative overflow-hidden shadow-inner">
                                <div 
                                    className="absolute top-0 left-0 h-full bg-gradient-to-r from-orange-800 via-orange-500 to-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.6)] transition-all duration-1000 ease-in-out"
                                    style={{ width: `${progress}%` }}
                                >
                                    <div className="absolute right-0 top-0 h-full w-4 bg-white/40 blur-sm"></div>
                                </div>
                                <div className="scan-line absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent via-white/5 to-transparent"></div>
                            </div>
                        </div>

                        {/* CAMINHÃO 3D CONTAINER */}
                        <div className={`relative transition-all duration-0 ${isDriving ? 'animate-vibration' : ''} ${animationClass} mx-auto perspective-2000`}>
                            
                            <div className="flex flex-col md:flex-row items-end justify-center">
                                
                                {/* CONTAINER TRAILER */}
                                <div className="relative flex-1 bg-slate-300 rounded-3xl md:rounded-r-none md:rounded-l-[4rem] shadow-[0_60px_100px_-20px_rgba(0,0,0,0.9)] border-b-[20px] border-slate-500 z-20 w-full min-h-[520px] preserve-3d">
                                    
                                    {/* Textura Alumínio */}
                                    <div className="absolute inset-0 opacity-10 bg-[repeating-linear-gradient(90deg,transparent,transparent_40px,#000_40px,#000_41px)]"></div>
                                    
                                    {/* RESPOSTA (Dentro das Portas) */}
                                    <div className="absolute inset-0 p-8 md:p-16 bg-slate-100 flex flex-col justify-center gap-8 overflow-hidden rounded-3xl md:rounded-r-none md:rounded-l-[4rem]">
                                        <div className="bg-white border-l-[16px] border-emerald-500 p-8 rounded-r-3xl shadow-xl transform translate-z-10 transition-transform">
                                            <div className="text-emerald-700 font-black mb-3 text-[10px] uppercase tracking-[0.4em] flex items-center gap-2">
                                                <Icons.ShieldCheck className="w-4 h-4" /> Gabarito Confirmado
                                            </div>
                                            <p className="text-slate-900 text-2xl font-black italic leading-tight">"{currentQuestion.respostaCorreta}"</p>
                                        </div>
                                        <div className="bg-slate-900 border-l-[16px] border-orange-500 p-8 rounded-r-3xl shadow-xl">
                                            <div className="text-orange-500 font-black mb-3 text-[10px] uppercase tracking-[0.4em] flex items-center gap-2">
                                                <Icons.Info className="w-4 h-4" /> Instrução Técnica
                                            </div>
                                            <p className="text-slate-300 leading-relaxed font-bold text-lg italic opacity-90">{currentQuestion.explicacao}</p>
                                        </div>
                                        <button onClick={() => setShowAnswer(false)} className="mt-4 self-center px-10 py-3 bg-slate-200 text-slate-500 hover:text-slate-800 rounded-full font-black text-[10px] uppercase tracking-widest transition-all">Fechar Container</button>
                                    </div>

                                    {/* PORTAS 3D SWING */}
                                    <div className="absolute inset-0 z-30 flex preserve-3d pointer-events-none">
                                        <div className={`flex-1 bg-slate-400 border-r-2 border-slate-500 door-transition preserve-3d rounded-l-[4rem] flex items-center justify-end pr-6 ${showAnswer ? 'door-open-left shadow-2xl shadow-black/50' : ''}`}>
                                            <div className="w-2 h-40 bg-slate-600 rounded-full shadow-inner border border-slate-500/50"></div>
                                        </div>
                                        <div className={`flex-1 bg-slate-400 border-l-2 border-slate-500 door-transition preserve-3d flex items-center justify-start pl-6 ${showAnswer ? 'door-open-right shadow-2xl shadow-black/50' : ''}`}>
                                            <div className="w-2 h-40 bg-slate-600 rounded-full shadow-inner border border-slate-500/50"></div>
                                        </div>
                                    </div>

                                    {/* PERGUNTA FRONT PANEL */}
                                    <div className={`absolute inset-0 z-40 bg-slate-300 flex flex-col items-center justify-center p-8 md:p-20 text-center transition-all duration-500 rounded-3xl md:rounded-r-none md:rounded-l-[4rem] ${showAnswer ? 'opacity-0 pointer-events-none' : 'opacity-100'}`}>
                                        <div className="bg-slate-900 text-orange-500 px-6 py-2 rounded-full text-xs font-black tracking-[0.3em] mb-10 border-2 border-slate-800 shadow-xl">
                                            CARGA EXPEDIÇÃO #{String(currentQuestion.id).padStart(2, '0')}
                                        </div>
                                        <h2 className="text-2xl md:text-4xl font-black text-slate-800 leading-tight mb-16 tracking-tight">
                                            {currentQuestion.pergunta}
                                        </h2>
                                        <button 
                                            onClick={() => setShowAnswer(true)}
                                            className="group bg-orange-600 hover:bg-orange-500 text-white px-12 py-7 rounded-3xl font-black text-sm tracking-[0.3em] transition-all shadow-2xl shadow-orange-900/40 border-b-8 border-orange-800 active:border-b-0 active:translate-y-2 uppercase"
                                        >
                                            Inspecionar Carga
                                        </button>
                                    </div>

                                    {/* Rodas Trailer */}
                                    <div className="absolute -bottom-8 left-20 md:left-32 flex gap-20 pointer-events-none">
                                        <TruckWheel isDriving={isDriving} />
                                        <TruckWheel isDriving={isDriving} />
                                    </div>
                                </div>

                                {/* CABINE FRONT UNIT */}
                                <div className="hidden md:block relative w-64 h-[520px] bg-gradient-to-b from-orange-500 to-orange-700 rounded-r-[5rem] border-b-[20px] border-orange-950 shadow-2xl z-10 transform -translate-x-1 border-r-[16px] border-orange-800">
                                    {/* Janela Panorâmica */}
                                    <div className="absolute top-12 left-6 right-8 h-44 bg-slate-900 rounded-tr-[4rem] rounded-bl-xl border-4 border-orange-400 overflow-hidden shadow-inner group">
                                        <div className="absolute inset-0 bg-gradient-to-br from-sky-400/20 to-transparent"></div>
                                        <div className="absolute top-6 left-6 w-16 h-1 bg-white/20 rotate-45"></div>
                                        {/* Limpa-parabrisas dinâmico */}
                                        <div className={`absolute bottom-0 left-1/2 w-1 h-32 bg-slate-800 origin-bottom transition-all duration-1000 ${isDriving ? 'rotate-[-60deg]' : 'rotate-[-90deg]'}`}></div>
                                    </div>
                                    
                                    {/* Farol Xenon */}
                                    <div className="absolute bottom-36 right-6 left-12">
                                        <div className={`w-12 h-24 bg-yellow-50 rounded-l-[2rem] shadow-2xl border-4 border-orange-900 transition-all duration-300 flex items-center justify-center ${isDriving ? 'opacity-100 shadow-[30px_0_80px_rgba(254,240,138,0.8)]' : 'opacity-40'}`}>
                                            <div className="w-5 h-14 bg-white rounded-full blur-md animate-pulse"></div>
                                        </div>
                                    </div>

                                    {/* Grade Radiador */}
                                    <div className="absolute bottom-12 right-12 left-12 h-20 bg-orange-950/40 rounded-3xl p-5 flex flex-col justify-between border border-orange-800/30 shadow-inner">
                                        {[1,2,3,4].map(i => <div key={i} className="h-1 bg-orange-900/60 rounded-full"></div>)}
                                    </div>

                                    {/* RODA CABINE */}
                                    <div className="absolute -bottom-8 right-16 pointer-events-none">
                                        <TruckWheel isDriving={isDriving} />
                                    </div>

                                    {/* Escapamento Vertical */}
                                    <div className="absolute -top-16 left-12 w-10 h-32 bg-slate-700 rounded-t-3xl border-x-[6px] border-slate-600 shadow-2xl">
                                        {isDriving && (
                                            <div className="absolute -top-16 left-0 w-full flex flex-col items-center gap-3">
                                                <div className="w-8 h-8 bg-slate-400/30 rounded-full blur-md exhaust-particle"></div>
                                                <div className="w-10 h-10 bg-slate-400/20 rounded-full blur-xl exhaust-particle delay-200"></div>
                                            </div>
                                        )}
                                    </div>
                                </div>

                            </div>
                        </div>

                        {/* Controlos de Navegação */}
                        <div className="mt-28 flex flex-col md:flex-row justify-between items-center gap-10">
                            <button 
                                onClick={() => currentStep > 0 && triggerDriveAnimation(currentStep - 1)} 
                                disabled={currentStep === 0 || isDriving} 
                                className={`group flex items-center gap-4 px-12 py-6 rounded-[3rem] font-black text-xs tracking-[0.4em] uppercase transition-all border-2 ${
                                    currentStep === 0 || isDriving 
                                    ? 'text-slate-800 border-slate-900 opacity-20 cursor-not-allowed' 
                                    : 'text-white border-slate-700 hover:bg-white/5 hover:border-orange-500 shadow-2xl active:scale-95'
                                }`}
                            >
                                <Icons.ChevronLeft className="w-5 h-5 group-hover:-translate-x-2 transition-transform" /> Retornar Rota
                            </button>

                            <div className="flex gap-4 p-5 bg-slate-900/80 backdrop-blur-md rounded-full border border-slate-800 shadow-2xl">
                                {quizData.map((_, i) => (
                                    <div 
                                        key={i} 
                                        className={`transition-all duration-700 rounded-full h-2 ${
                                            i === currentStep 
                                            ? 'w-16 bg-orange-500 shadow-[0_0_25px_rgba(249,115,22,1)]' 
                                            : 'w-2 bg-slate-800'
                                        }`} 
                                    />
                                ))}
                            </div>

                            <button 
                                onClick={() => currentStep < quizData.length - 1 ? triggerDriveAnimation(currentStep + 1) : triggerDriveAnimation(0)} 
                                disabled={isDriving} 
                                className={`group flex items-center gap-6 px-16 py-7 rounded-[3rem] font-black text-sm tracking-[0.3em] uppercase transition-all shadow-[0_25px_60px_rgba(249,115,22,0.4)] ${
                                    currentStep === quizData.length - 1 
                                    ? 'bg-emerald-600 text-white hover:bg-emerald-500' 
                                    : 'bg-orange-600 text-white hover:bg-orange-500 active:scale-90 hover:-translate-y-1'
                                }`}
                            >
                                {currentStep === quizData.length - 1 ? 'Resetar Treino' : 'Próxima Carga'} 
                                <Icons.ChevronRight className="w-6 h-6 group-hover:translate-x-2 transition-transform" />
                            </button>
                        </div>

                        {/* KPI Dashboards Footer */}
                        <div className="mt-24 grid grid-cols-1 md:grid-cols-3 gap-10">
                            <div className="bg-slate-900/50 backdrop-blur-xl p-10 rounded-[4rem] border border-orange-500/10 flex flex-col items-center gap-6 shadow-2xl hover:bg-orange-500/5 transition-colors group">
                                <div className="p-5 bg-orange-500/10 rounded-3xl group-hover:rotate-12 transition-transform shadow-inner"><Icons.Zap className="w-8 h-8 text-orange-500" /></div>
                                <div className="text-center">
                                    <p className="text-[10px] text-slate-500 font-black uppercase tracking-[0.5em] mb-2">Motor Efficiency</p>
                                    <p className="text-2xl font-black text-white italic">Ativo / Nominal</p>
                                </div>
                            </div>
                            <div className="bg-slate-900/50 backdrop-blur-xl p-10 rounded-[4rem] border border-blue-500/10 flex flex-col items-center gap-6 shadow-2xl hover:bg-blue-500/5 transition-colors group">
                                <div className="p-5 bg-blue-500/10 rounded-3xl group-hover:rotate-12 transition-transform shadow-inner"><Icons.Warehouse className="w-8 h-8 text-blue-500" /></div>
                                <div className="text-center">
                                    <p className="text-[10px] text-slate-500 font-black uppercase tracking-[0.5em] mb-2">Location Tracking</p>
                                    <p className="text-2xl font-black text-white italic">Base Central CD</p>
                                </div>
                            </div>
                            <div className="bg-slate-900/50 backdrop-blur-xl p-10 rounded-[4rem] border border-emerald-500/10 flex flex-col items-center gap-6 shadow-2xl hover:bg-emerald-500/5 transition-colors group">
                                <div className="p-5 bg-emerald-500/10 rounded-3xl group-hover:rotate-12 transition-transform shadow-inner"><Icons.ShieldCheck className="w-8 h-8 text-emerald-500" /></div>
                                <div className="text-center">
                                    <p className="text-[10px] text-slate-500 font-black uppercase tracking-[0.5em] mb-2">Inventory Safety</p>
                                    <p className="text-2xl font-black text-white italic">Avarias Zero</p>
                                </div>
                            </div>
                        </div>

                        <footer className="mt-24 mb-12 text-center opacity-40">
                            <p className="text-slate-500 text-[10px] font-black uppercase tracking-[1em]">Digital Logistics Twin Hub © 2024</p>
                        </footer>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
